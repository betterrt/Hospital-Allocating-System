# Hospital-Allocating-System
This system allocates hosiptal to clients based on distance between them and the availability of the hospital

What my code files do: 
 Scheduler.cpp: create UDP socket and TCP socket; receive hospital initial information and client location; store hospital initial information in the structure; send client location to hospital; receive score and shortest distance from hospital; make hospital assignment decision and determine what message to send to hospital and client based on the score and distance received from hospital(There are total four cases: case1: at least one hospital has score != None, and scheduler will choose a hospital with highest score or a hospital with minimum distance if there exists a tie for highest score  case2: client location not in the map  case3: client location is the same with hospital  case4: All hospitals have score = None, namely all hospitals are fully occupied); close TCP child socket      
 
 HospitalA/B/C.cpp: define the getmap() function and Dijkstra() function; create UDP socket; read hospital initial information from command line; send its initial information to scheduler; receive client location from scheduler; determine if client location is in the map or if it is the same as hospital; get the shortest distance and calculate score; send score and distance to scheduler; determine whether the hospital itself needs to update occupation information according to the assignment decision made by scheduler   
 
 Client.cpp: create TCP socket and communicate with scheduler; read client location from command line; send client location to scheduler; receive the decision of hospital assignment from scheduler; decide what on screen message to output based on the information received from scheduler(if received information is "normal hospital assignment", output "assigned to Hospital#"; if received information is "all hospitals have score = None" or "client location is the same as hospital", output "Score = None, No assignment"; if received information is "client location is not in the map", output "Location not found"); close TCP socket
